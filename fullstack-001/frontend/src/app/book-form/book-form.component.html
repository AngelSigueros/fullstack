<h2>Book Form</h2>
<hr>

@if (isUpdated) {
<h1 class="mt-5 mb-5">Actualizar libro existente con id {{bookForm.get('id')?.value}}</h1>
} @else {
<h1 class="mt-5 mb-5">Crear nuevo libro</h1>
}

<form [formGroup]="bookForm" (ngSubmit)="save()">

    <input type="hidden" formControlName="id">

    <div class="form-floating mb-3">
        <input type="text" class="form-control" id="title" formControlName="title">
        <label for="title">Titulo del libro</label>
    </div>

    <div class="form-floating mb-3">
        <input type="text" class="form-control" id="isbn" formControlName="isbn">
        <label for="isbn">Isbn del libro</label>
    </div>

    <div class="form-floating mb-3">
        <input type="number" class="form-control" id="price" formControlName="price" min="0">
        <label for="isbn">Precio del libreo</label>
    </div>

    <div class="form-floating mb-3">
        <input type="date" class="form-control" id="publishDate" formControlName="publishDate" min="0">
        <label for="publishDate">Publish Date del libreo</label>
    </div>

    <div class="form-floating mb-3">
        <select class="form-select" id="author" formControlName="author">
            <option>Elige Autor</option>
            @for (author of authors; track author.id) {
            <option value="{{author.id}}">{{author.name}}</option>
            }
        </select>
        <label for="author">Autores</label>
    </div>

    @if (this.isUpdated) {
    <button class="btn btn-success" type="submit">Actualizar</button>
    } @else {
    <button class="btn btn-success" type="submit">Crear</button>
    }
</form>